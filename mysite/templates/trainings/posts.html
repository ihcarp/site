{% extends 'base.html' %}

{% block content %}

{% block breadcrumb %}
<nav aria-label="breadcrumb" style="padding-top: 20px">
        <ol class="breadcrumb">
        <li class="breadcrumb-item "><a href="{% url 'topics' topic.language.id %}">{{topic.language.language}}</a></li>
        <li class="breadcrumb-item active">{{topic.name}}</li>
        </ol>
      </nav>
{% endblock %}

<body>

<div class="d-flex">
<div class="p-2"><a class="btn btn-primary" href="{% url 'new_post' topic.language.id topic.id %}" role="button">Add new training</a></div>

<div class="p-2 ml-auto"><ul class="nav nav-pills mb-3 mr-auto" id="pills-tab" role="tablist">
        <li class="nav-item text-right">
          <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#latest" role="tab" aria-controls="pills-home" aria-selected="true">Latest</a>
        </li>
        <li class="nav-item text-right">
          <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#popular" role="tab" aria-controls="pills-profile" aria-selected="false">Popular</a>
        </li>
</ul>
</div>
</div>

<div class="tab-content" id="pills-tabContent">
        <div class="tab-pane fade show active" id="latest" role="tabpanel" aria-labelledby="pills-home-tab">
        {% for post in latest_posts %}
        <div class="card border-secondary" style="margin: 20px">
            <div class="card-header text-white bg-dark ">{{post.title}}</div>
            <div class="card-body">
                    <div class="d-flex" >
                            <div class="mr-auto p-2">
                                <h6 class="card-subtitle mb-2 text-muted">{{post.posted_by}}</h6>
                            </div>
                            
                            <div class="p-2 ">
                                <h6 class="card-subtitle mb-2 text-muted">{{post.posted_on}}</h6>
                            </div>
                            <div style="padding-top: 0px"> <i class="fa fa-eye"  aria-hidden="true" style="color: grey"></i></div>
                            <div class="p-2 ">
                                    <h6 class="card-subtitle mb-2 text-muted">{{post.views}} views</h6>
                                </div>
                        </div>
                <p class="card-text">{{post.description}}</p>
            </div>
            <div class="text-right" margin:10px>
                <a href="{% url 'visit_post' topic.language.id topic.id post.id %}" class="btn ">view more</a>
            </div>

        </div>
        {% endfor %}
    </div>

    <div class="tab-pane fade" id="popular" role="tabpanel" aria-labelledby="pills-profile-tab">
        {% for post in popular_posts %}
        <div class="card border-secondary" style="margin: 20px">
            <div class="card-header text-white bg-dark ">{{post.title}}</div>
            <div class="card-body">
                    <div class="d-flex" >
                            <div class="mr-auto p-2">
                                <h6 class="card-subtitle mb-2 text-muted">{{post.posted_by}}</h6>
                            </div>
                            
                            <div class="p-2 ">
                                <h6 class="card-subtitle mb-2 text-muted">{{post.posted_on}}</h6>
                            </div>
                            <div style="padding-top: 0px"> <i class="fa fa-eye"  aria-hidden="true" style="color: grey"></i></div>
                            <div class="p-2 ">
                                    <h6 class="card-subtitle mb-2 text-muted">{{post.views}} views</h6>
                                </div>
                        </div>
                <p class="card-text">{{post.description}}</p>
            </div>
            <div class="text-right" margin:10px>
                <a href="{% url 'visit_post' topic.language.id topic.id post.id %}" class="btn ">view more</a>
            </div>

        </div>
        {% endfor %}
    </div>
</div>

{% include 'includes/pagination.html' %}

</body>
{% endblock %}
</html>